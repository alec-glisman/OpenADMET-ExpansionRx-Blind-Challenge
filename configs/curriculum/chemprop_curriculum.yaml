data:
  data_dir: assets/dataset/split_train_val/v3/quality_high_medium_low/bitbirch/multilabel_stratified_kfold/data/split_0/fold_0
  test_file: assets/dataset/set/local_test.csv
  blind_file: assets/dataset/set/blind_test.csv
  output_dir: null
  smiles_col: SMILES
  target_cols:
    - LogD
    - Log KSOL
    - Log HLM CLint
    - Log MLM CLint
    - Log Caco-2 Permeability Papp A>B
    - Log Caco-2 Permeability Efflux
    - Log MPPB
    - Log MBPB
    - Log MGMB
  target_weights:
    - 1.0
    - 1.0
    - 1.0
    - 1.0
    - 1.0
    - 1.0
    - 1.0
    - 1.0
    - 1.0

optimization:
  criterion: MAE
  init_lr: 0.00113
  max_lr: 0.000227
  final_lr: 0.000113
  warmup_epochs: 5
  max_epochs: 150
  patience: 15
  batch_size: 128
  num_workers: 0
  seed: 12345
  progress_bar: false

joint_sampling:
  enabled: true
  num_samples: null
  seed: 42
  increment_seed_per_epoch: true
  log_to_mlflow: true

  task_oversampling:
    alpha: 0.02

  curriculum:
    enabled: true
    quality_col: Quality
    qualities:
      - high
      - medium
      - low
    patience: 5
    strategy: sampled
    reset_early_stopping_on_phase_change: true
    log_per_quality_metrics: true
    seed: 42

inter_task_affinity:
  enabled: false
  compute_every_n_steps: 2
  log_every_n_steps: 10
  log_epoch_summary: true
  log_step_matrices: false
  lookahead_lr: 0.001
  use_optimizer_lr: true
  exclude_param_patterns:
    - predictor
    - ffn
    - output
    - head
    - readout
  log_to_mlflow: true

# ray:
#   max_parallel: 1
#   num_cpus: null
#   num_gpus: null

mlflow:
  tracking: true
  tracking_uri: http://127.0.0.1:8084
  experiment_name: chemprop_curriculum_test
  run_name: null
  nested: false
